extern "C" {
    sprintf :: (buffer: *u8, format: string, args: ...any) -> int;
    printf  :: (format: string, args: ...any) -> int;
}

Myprint2 :: (format: string, args: ...any) {
    for arg, i in args {
        print("%\n", *arg.type);
    }
}

Myprint3 :: (format: string, args: ...any) {
    Myprint3Helper(format, ...args);
}

Myprint3Helper :: (format: string, args: ...any) {
    for arg, i in args {
        print("%\n", *arg.type);
    }
}

functionWithAny :: (x: any) {
    print("%\n", *x.type);
}

MyJsonData :: struct {
    data: any;
    contentLength: int;
}

Vector3 :: struct {
    x, y, z: float;
}

main :: () {
    print("----------- Struct with any member -----------\n");
    {
        x := MyJsonData{3.14, 1};
        print("%\n", *x.data.type);
    }
    print("----------- Array of any -----------\n");
    {
        x: []any = [3.14, 5, Vector3{1, 4, 9}, [cast(int) 1, 2, 3]];
        print("%\n", *x[0].type);
        print("%\n", *x[1].type);
        print("%\n", *x[2].type);
        print("%\n", *x[3].type);
    }
    print("----------- Passing argument to an any parameter -----------\n");
    {
        functionWithAny(3);
    }
    print("----------- Passing arguments to an any variadic parameter -----------\n");
    {
        Myprint2("Hello %s", "World", "Hellope", 3.14);
    }
    print("----------- Passing arguments to an any variadic parameter into another variadic parameter -----------\n");
    {
        Myprint3("Hello %s", "World", "Hellope", 3.14);
    }
    print("---------------- Passing variadic arguments to C function ----------------\n");
    {
        printf("Passing %s arguments into %s functions is %d doable", "variadic", "C", 100);
    }
}